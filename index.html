<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StudyHub - Smart Learning Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body data-theme="light">

    <div class="app-wrapper">
        <header class="header">
            <div class="logo">
                <div class="logo-icon">
                    <svg viewBox="0 0 24 24"><path d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3zm6.82 6L12 12.72 5.18 9 12 5.28 18.82 9zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73v3.72z"/></svg>
                </div>
                <span class="logo-text">StudyHub</span>
            </div>
            <div class="header-actions">
                <button class="theme-btn" onclick="toggleTheme()" aria-label="Toggle theme">
                    <svg viewBox="0 0 24 24" id="theme-icon"><path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"/></svg>
                </button>
            </div>
        </header>

        <nav class="nav">
            <button class="nav-item active" onclick="switchView('search', this)">
                <svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
                <span>Explore</span>
            </button>
            <button class="nav-item" onclick="switchView('planner', this)">
                <svg viewBox="0 0 24 24"><path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM9 10H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm-8 4H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2z"/></svg>
                <span>Planner</span>
            </button>
            <button class="nav-item" onclick="switchView('saved', this)">
                <svg viewBox="0 0 24 24"><path d="M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2z"/></svg>
                <span>Library</span>
            </button>
            <button class="nav-item" onclick="switchView('focus', this)">
                <svg viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>
                <span>Focus</span>
            </button>
        </nav>

        <!-- Search View -->
        <section id="view-search" class="view active">
            <div class="hero-section">
                <div class="hero-badge">
                    <svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
                    100% Free Resources
                </div>
                <h1 class="hero-title">Find the Best Study Materials</h1>
                <p class="hero-subtitle">Access curated PDFs, video lectures, practice tests & more. All free, all in one place.</p>
                
                <form class="search-form" onsubmit="handleSearch(event)">
                    <div class="input-wrapper" style="flex: 2;">
                        <svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
                        <input type="text" id="subject-input" class="form-input" placeholder="What do you want to learn? e.g. Calculus, Python" required>
                    </div>
                    <select id="level-select" class="form-select">
                        <option value="all">All Levels</option>
                        <option value="beginner">Beginner</option>
                        <option value="advanced">Advanced</option>
                    </select>
                    <button type="submit" class="btn-search">
                        <svg viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
                        Search
                    </button>
                </form>

                <div class="search-history" id="search-history-container" style="display: none;">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <p class="history-label">Recent Searches</p>
                        <button class="clear-history" onclick="clearSearchHistory()">Clear All</button>
                    </div>
                    <div class="history-tags" id="history-tags"></div>
                </div>
            </div>

            <div id="results-container" class="results-grid"></div>
        </section>

        <!-- Planner View -->
        <section id="view-planner" class="view">
            <div class="planner-grid">
                <div>
                    <div class="planner-card">
                        <h2 class="planner-card-title">
                            <svg viewBox="0 0 24 24"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>
                            Study Goals
                        </h2>
                        
                        <form class="add-form" onsubmit="addGoal(event)">
                            <input type="text" id="goal-title" class="form-input" placeholder="Add a new goal..." required style="flex: 2;">
                            <input type="date" id="goal-date" class="form-input" required style="flex: 1;">
                            <button type="submit" class="btn-add">
                                <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                                Add
                            </button>
                        </form>

                        <div id="goals-list"></div>
                    </div>
                </div>

                <div>
                    <div class="planner-card">
                        <h2 class="planner-card-title">
                            <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/></svg>
                            Progress
                        </h2>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-value" id="stat-completed">0</div>
                                <div class="stat-label">Completed</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value warning" id="stat-streak">0</div>
                                <div class="stat-label">Day Streak</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Saved View -->
        <section id="view-saved" class="view">
            <div class="section-header">
                <h2 class="section-title">My Library</h2>
                <span class="section-count" id="saved-count">0 resources</span>
            </div>
            <div id="saved-grid" class="results-grid"></div>
        </section>

        <!-- Focus View -->
        <section id="view-focus" class="view">
            <div class="timer-wrapper">
                <div class="timer-card">
                    <div class="timer-label">Focus Session</div>
                    <div class="timer-display" id="timer">25:00</div>
                    
                    <div class="timer-actions">
                        <button class="timer-btn play" onclick="toggleTimer()" id="timer-toggle">
                            <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                        </button>
                        <button class="timer-btn reset" onclick="resetTimer()">
                            <svg viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
                        </button>
                    </div>

                    <div class="timer-presets">
                        <button class="preset-btn active" onclick="setTimer(25, this)">Focus 25m</button>
                        <button class="preset-btn" onclick="setTimer(5, this)">Break 5m</button>
                        <button class="preset-btn" onclick="setTimer(15, this)">Long 15m</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Toast -->
    <div id="toast" class="toast">
        <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
        <span id="toast-msg">Success</span>
    </div>

    <script src="script.js"></script>
</body>
</html>
